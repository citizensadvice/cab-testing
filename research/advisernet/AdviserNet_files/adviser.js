!function(){var e=window.CAB=window.CAB||{};e.referenceServiceUrl="/references-service/",e.referenceHelpLink="/references-help/"}();var Hogan={};!function(e){function t(e,t,n){var r;return t&&"object"==typeof t&&(void 0!==t[e]?r=t[e]:n&&t.get&&"function"==typeof t.get&&(r=t.get(e))),r}function n(e,t,n,r,a,o){function s(){}function i(){}s.prototype=e,i.prototype=e.subs;var c,l=new s;l.subs=new i,l.subsText={},l.buf="",r=r||{},l.stackSubs=r,l.subsText=o;for(c in t)r[c]||(r[c]=t[c]);for(c in r)l.subs[c]=r[c];a=a||{},l.stackPartials=a;for(c in n)a[c]||(a[c]=n[c]);for(c in a)l.partials[c]=a[c];return l}function r(e){return String(null===e||void 0===e?"":e)}function a(e){return e=r(e),u.test(e)?e.replace(o,"&amp;").replace(s,"&lt;").replace(i,"&gt;").replace(c,"&#39;").replace(l,"&quot;"):e}e.Template=function(e,t,n,r){e=e||{},this.r=e.code||this.r,this.c=n,this.options=r||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(){return""},v:a,t:r,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},ep:function(e,t){var r=this.partials[e],a=t[r.name];if(r.instance&&r.base==a)return r.instance;if("string"==typeof a){if(!this.c)throw new Error("No compiler available.");a=this.c.compile(a,this.options)}if(!a)return null;if(this.partials[e].base=a,r.subs){t.stackText||(t.stackText={});for(key in r.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);a=n(a,r.subs,r.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=a,a},rp:function(e,t,n,r){var a=this.ep(e,n);return a?a.ri(t,n,r):""},rs:function(e,t,n){var r=e[e.length-1];if(!b(r))return void n(e,t,this);for(var a=0;a<r.length;a++)e.push(r[a]),n(e,t,this),e.pop()},s:function(e,t,n,r,a,o,s){var i;return(!b(e)||0!==e.length)&&("function"==typeof e&&(e=this.ms(e,t,n,r,a,o,s)),i=!!e,!r&&i&&t&&t.push("object"==typeof e?e:t[t.length-1]),i)},d:function(e,n,r,a){var o,s=e.split("."),i=this.f(s[0],n,r,a),c=this.options.modelGet,l=null;if("."===e&&b(n[n.length-2]))i=n[n.length-1];else for(var u=1;u<s.length;u++)o=t(s[u],i,c),void 0!==o?(l=i,i=o):i="";return!(a&&!i)&&(a||"function"!=typeof i||(n.push(l),i=this.mv(i,n,r),n.pop()),i)},f:function(e,n,r,a){for(var o=!1,s=null,i=!1,c=this.options.modelGet,l=n.length-1;l>=0;l--)if(s=n[l],o=t(e,s,c),void 0!==o){i=!0;break}return i?(a||"function"!=typeof o||(o=this.mv(o,n,r)),o):!a&&""},ls:function(e,t,n,a,o){var s=this.options.delimiters;return this.options.delimiters=o,this.b(this.ct(r(e.call(t,a)),t,n)),this.options.delimiters=s,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,n)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,n,r,a,o,s){var i,c=t[t.length-1],l=e.call(c);return"function"==typeof l?!!r||(i=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(l,c,n,i.substring(a,o),s)):l},mv:function(e,t,n){var a=t[t.length-1],o=e.call(a);return"function"==typeof o?this.ct(r(o.call(a)),a,n):o},sub:function(e,t,n,r){var a=this.subs[e];a&&(this.activeSub=e,a(t,n,this,r),this.activeSub=!1)}};var o=/&/g,s=/</g,i=/>/g,c=/\'/g,l=/\"/g,u=/[&<>\"\']/,b=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),!function(e,t){"use strict";function n(e,t){for(var n in t)e[n]=t[n];return e}function r(n,r){this._events={},this._refs={},this.clearAll=!1,this._update=0,this._storeName=n,r&&"/"!==r.slice(-1)[0]&&(r=r+="/"),this._url=r;var a=this._namespace=".cab-references."+(""+Math.random()).slice(-1);t(e).on("storage"+a,this._onStorage.bind(this)).on("load pageshow focus".split(" ").join(a+" ")+a,this._load.bind(this,!1)),this._load()}var a={get:function(e){return e=this.getKey(e),this.clearAll?void 0:this._refs[e]},add:function(e){(this.clearAll||0===this.count)&&(this._refs={},this.clearAll=!1);var t=this.getKey(e);e=this._refs[t]=n({date:Date.now(),key:t},e),this._save("add",e)},remove:function(e){var t=this.getKey(e);e=this._refs[t],delete this._refs[t],this._save("remove",e)},clear:function(){this.count()&&(this.clearAll=!0,this._save("clear"))},undoClear:function(){this.clearAll&&(this.clearAll=!1,this._save("undoClear"))},destroy:function(){localStorage.removeItem(this._storeName),t(e).off(this._namespace),this._events=null},count:function(){var e,t=0;if(this.clearAll)return 0;for(e in this._refs)++t;return t},toArray:function(){var e,t,r=[];if(!this.clearAll)for(e in this._refs)t=this._refs[e],this._refs.hasOwnProperty(e)&&r.push(n({},t));return r},on:function(e,t){var n=this._events;(n[e]=n[e]||[]).push(t)},emit:function(e){var t=this._events[e];if(t){var n=[].slice.call(arguments,1);t.forEach(function(e){e.apply(this,n)},this)}},getKey:function(e){if(null==e)throw new TypeError("No reference supplied");return"string"==typeof e?e:e.id+":"+(e.hash||"")},_save:function(e,t){var n=this,r=JSON.parse(localStorage.getItem(n._storeName))||{};this._update=((r.update||0)+1)%9007199254740991,localStorage.setItem(n._storeName,JSON.stringify({refs:n._refs,clearAll:n.clearAll,update:n._update,lastOwner:n.lastOwner})),this.emit(e,t),this.emit("change")},_load:function(){var e=JSON.parse(localStorage.getItem(this._storeName))||{};this._update!==e.update&&(this.lastOwner=e.lastOwner||"",this._update=e.update||0,this._refs=e.refs||{},this.clearAll=e.clearAll||!1,this.emit("load"),this.emit("change"))},_onStorage:function(e){var t=e.originalEvent.key;t===this._storeName&&this._load()},serverSave:function(e){if(this.lastOwner=e,this._save("owner"),!this._url)throw new Error("serviceUrl has not been configured");return t.ajax(this.count()?{url:this._url+encodeURI(e),type:"PUT",contentType:"application/json; charset=UTF-8",data:JSON.stringify(this.toArray())}:{url:this._url+encodeURI(e),type:"DELETE"})},serverLoad:function(e){if(!this._url)throw new Error("serviceUrl has not been configured");return t.ajax({url:this._url+encodeURI(e),dataType:"text"}).then(function(e,t,n){return{refs:JSON.parse(e),date:new Date(n.getResponseHeader("last-modified"))}},function(e){return 404===e.status?t.Deferred().resolve(null):t.Deferred().reject(e)})},replace:function(e){var t={};return e.forEach(function(e){var r=this.getKey(e),a=n({},e);a.key=r,a.url=(a.url||"").replace(/^(([^:\/?#]+):)(\/\/([^\/?#]*))/,""),t[r]=a},this),this.clearAll=!1,this._refs=t,this._save("replace")}};for(var o in a)r.prototype[o]=a[o];var s="cab_refs";if(e.localStorage){var i=e.CAB=e.CAB||{},c=new r(s,i.referenceServiceUrl);i.references=c}}(window,jQuery),!function(e,t){"use strict";function n(){r.count(),a.attr("data-references",r.count())}var r=e.CAB&&e.CAB.references;if(r){var a=t(".js-ref-dialog");r.on("change",n),n()}}(window,jQuery),!function(e,t){"use strict";function n(e){return e.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]+" "+e.getFullYear()}function r(e){var n='<button type="button" data-action="'+e.action+'"'+(e.className?' class="'+e.className+'"':"")+(e.autofocus?" autofocus":"")+">"+(e.icon?'<i aria-hidden="true" class="icon-'+e.icon+'"></i>':"")+e.text+"</button>";return t(n)[0]}function a(e,n){return t(e).on("submit",!1),t(n).addClass("button--submitting"),function(){t(e).off("submit"),t(n).removeClass("button--submitting")}}function o(n){n.preventDefault(),d||(p=r({action:"copy",text:I,icon:"copy",autofocus:!0}),h=r({action:"save",text:E,icon:"save"}),v=r({action:"clear",text:R,icon:"bin"}),m=r({action:"undo",text:q,icon:"undo",className:"hide"}),d=t.Dialog({title:H,className:"dialog--refs",footer:t([p,h,r({action:"load",icon:"load",text:j}),v,m,t('<a href="'+e.referenceHelpLink+'"><i aria-hidden="true" class="icon-help"></i>Help</a>')[0],r({action:"close",className:"right",text:N})])}).on("click","a[href]",function(){d.openedBy=null,d.close()}).on("click","[data-action=remove]",function(){var e=this.getAttribute("data-ref-key");Y[e]=g.get(e),g.remove(e)}).on("click","[data-action=add]",function(){var e=this.getAttribute("data-ref-key"),t=Y[e];delete Y[e],g.add(t)}).on("click","[data-action=clear]",function(){g.clear()}).on("click","[data-action=undo]",function(){g.undoClear()}).on("click","[data-action=copy]",i).on("click","[data-action=save]",c).on("click","[data-action=load]",b).on("mouseenter focusin mouseleave focusout",".ref-dialog__item-button",function(e){t(this).closest("li").toggleClass("ref-dialog__list-item--highlight","mouseenter,focusin".indexOf(e.type)>-1)}),g.on("change",s)),s(),d.showModal()}function s(){var e=g.toArray(),n=g.clearAll;if(!n)for(var r in Y)e.push(t.extend({removed:!0},Y[r]));e=e.sort(function(e,t){return e.date-t.date});var a,o=t(document.activeElement);o.hasClass("ref-dialog__item-button")&&(a=o.data("ref-key"));var s=y.render({refs:e,clearAll:n},{item:_});d.$content.html(s);var i;a?i=d.$content.find('button.ref-dialog__item-button[data-ref-key="'+a+'"]'):o.is(v)&&n?i=t(m):o.is(m)&&!n&&(i=t(v)),t(v).toggleClass("hide",n),t(m).toggleClass("hide",!n),t([h,p,v]).attr("disabled",!g.count()),i&&i.focus()}function i(){var e=t.Dialog({title:U,className:"dialog--refs",destroyOnClose:!0,content:w.render({refs:g.toArray(),cmd:navigator.platform.indexOf("Mac")?"Cmd":"Ctrl",host:location.protocol+"//"+location.host}),footer:t(r({action:"close",text:N}))}).on("copy",function(){setTimeout(function(){e.close()},0)});e.showModal();var n=t(".ref-dialog__copy")[0];if(document.createRange){var a=window.getSelection(),o=document.createRange();o.selectNode(n),a.removeAllRanges(),a.addRange(o);try{if(document.execCommand("copy",null,null)===!1)throw 0;e.close()}catch(s){o.selectNode(n),a.removeAllRanges(),a.addRange(o)}n.contentEditable=!1}else if(document.body.createTextRange){var i=document.body.createTextRange();i.moveToElementText(n),i.select(),i.execCommand("copy",null,null),e.close()}}function c(){var e,n=(g.lastOwner||"").split("\\")[0],o=t.Dialog({title:J,className:"dialog--refs--save",destroyOnClose:!0,content:x.render({bureau:n,uniqueId:"6ae7b45c-8678-4851-96e5-ab6ffd2472da"}),footer:t([r({action:"close",text:O,icon:"cross"}),e=r({action:"save",text:E,icon:"save"})])}).on("close",function(){o.destroy()}).on("click","[data-action=save]",function(){o.$content.find("input[type=submit]").click()}).on("submit","form",function(t){t.preventDefault();var n=this.bureau.value.trim()+"\\"+this.name.value.trim(),r=a(this,e);g.serverLoad(n).then(function(e){return null!==e&&e.refs&&e.refs.length?l(e).then(function(e){return!!e&&void 0}):e}).then(function(e){return e!==!1?g.serverSave(n).then(function(){u(),o.close()}):void 0}).fail(function(e){r(),f(B,T.render({error:e.statusText}))})});o.showModal()}function l(e){var a=t.Deferred(),o=t.Dialog({title:L,destroyOnClose:!0,className:"dialog--refs",content:k.render({refs:e.refs,date:n(e.date)}),footer:t([r({action:"close",text:O,icon:"cross"}),r({action:"save",text:D,icon:"tick"})])}).on("click","[data-action=save]",function(){a.resolve(!0),o.close()}).on("close",function(){a.resolve(!1)});return o.showModal(),a.promise()}function u(){var e=g.lastOwner.split("\\");t.Dialog({title:K,className:"dialog--refs--save",destroyOnClose:!0,content:A.render({bureau:e[0],name:e.slice(1).join("\\")}),footer:t([r({action:"close",text:N,icon:"cross"})])}).showModal()}function b(){var e,n=(g.lastOwner||"").split("\\")[0],o=t.Dialog({title:M,destroyOnClose:!0,className:"dialog--refs--save",content:C.render({bureau:n,uniqueId:"6ae7b45c-8678-4851-96e5-ab6ffd2472da"}),footer:t([r({action:"close",text:O,icon:"cross"}),e=r({action:"load",text:j,icon:"load"})])}).on("click","[data-action=load]",function(){o.$content.find("input[type=submit]").click()}).on("submit","form",function(t){t.preventDefault();var n=this.bureau.value.trim(),r=this.name.value.trim(),s=n+"\\"+r,i=a(this,e);g.serverLoad(s).then(function(e){o.close(),null!==e?(g.lastOwner=s,Y={},g.replace(e.refs)):f(P,S.render({bureau:n,name:r}))}).fail(function(e){i(),f(B,T.render({error:e.statusText}))})});o.showModal()}function f(e,n){t.Dialog({title:e,destroyOnClose:!0,className:"dialog--refs--save",content:n,footer:t([r({action:"close",text:N,icon:"cross"})])}).showModal()}var d,h,p,v,m,g=window.CAB&&window.CAB.references,y=new Hogan.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.d("refs.length",e,t,1),e,t,0,16,101,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('<ul class="ref-dialog__list arrow-list">\r'),r.b("\n"+n),r.s(r.f("refs",e,t,1),e,t,0,69,83,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("<item0",e,t,""))}),e.pop()),r.b("</ul>\r"),r.b("\n"+n)}),e.pop()),r.s(r.d("refs.length",e,t,1),e,t,1,0,0,"")||(r.s(r.f("clearAll",e,t,1),e,t,0,150,300,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<p>\r"),r.b("\n"+n),r.b("References have been cleared \r"),r.b("\n"+n),r.b('<button type="button" data-action="undo">\r'),r.b("\n"+n),r.b('<i aria-hidden="true" class="icon-undo"></i>\r'),r.b("\n"+n),r.b("Undo\r"),r.b("\n"+n),r.b("</button>\r"),r.b("\n"+n),r.b("</p>\r"),r.b("\n"+n)}),e.pop()),r.s(r.f("clearAll",e,t,1),e,t,1,0,0,"")||(r.b("<p>No references have been added.</p>\r"),r.b("\n"+n))),r.fl()},partials:{"<item0":{name:"item",partials:{},subs:{}}},subs:{}}),_=new Hogan.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<li data-ref-key="'),r.b(r.v(r.f("key",e,t,0))),r.b('" class="ref-dialog__list-item'),r.s(r.f("removed",e,t,1),e,t,0,67,98,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" ref-dialog__list-item--removed")}),e.pop()),r.b('">\r'),r.b("\n"+n),r.s(r.f("removed",e,t,1),e,t,0,126,131,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<del>")}),e.pop()),r.b("\r"),r.b("\n"+n),r.b('<a href="'),r.b(r.v(r.f("url",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b(r.v(r.f("title",e,t,0))),r.b(" \r"),r.b("\n"+n),r.b("("),r.b(r.v(r.f("extent",e,t,0))),r.b(")\r"),r.b("\n"+n),r.s(r.f("section",e,t,1),e,t,0,203,303,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("§ "),r.b(r.v(r.f("section",e,t,0))),r.b("\r"),r.b("\n"+n),r.s(r.f("paraStart",e,t,1),e,t,0,234,287,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("("),n.b(n.v(n.f("paraStart",e,t,0))),n.s(n.f("paraEnd",e,t,1),e,t,0,260,274,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" - "),n.b(n.v(n.f("paraEnd",e,t,0)))}),e.pop()),n.b(")")}),e.pop()),r.b("\r"),r.b("\n"+n)}),e.pop()),r.b("</a>\r"),r.b("\n"+n),r.s(r.f("removed",e,t,1),e,t,0,335,341,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("</del>")}),e.pop()),r.b("\r"),r.b("\n"+n),r.s(r.f("removed",e,t,1),e,t,0,367,571,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('<button class="ref-dialog__item-button" type="button" data-action="add" data-ref-key="'),r.b(r.v(r.f("key",e,t,0))),r.b('"><i aria-hidden="true" class="icon-undo icon--no-text"></i><span class="screenreader">Undo</span></button>\r'),r.b("\n"+n)}),e.pop()),r.s(r.f("removed",e,t,1),e,t,1,0,0,"")||(r.b('<button class="ref-dialog__item-button" type="button" data-action="remove" data-ref-key="'),r.b(r.v(r.f("key",e,t,0))),r.b('"><i aria-hidden="true" class="icon-bin icon--no-text"></i><span class="screenreader">Delete</span></button>\r'),r.b("\n"+n)),r.b("</li>"),r.fl()},partials:{},subs:{}}),w=new Hogan.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<p>Press <strong class="key">'),r.b(r.v(r.f("cmd",e,t,0))),r.b('</strong> + <strong class="key">C</strong> or go to <strong>Edit</strong> then <strong>Copy</strong>, to copy.</p>\r'),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('<div class="ref-dialog__copy">\r'),r.b("\n"+n),r.s(r.f("refs",e,t,1),e,t,0,195,401,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<p>\r"),r.b("\n"+n),r.b('<a href="'),r.b(r.v(r.f("url",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b(r.v(r.f("title",e,t,0))),r.b(" \r"),r.b("\n"+n),r.b("("),r.b(r.v(r.f("extent",e,t,0))),r.b(")\r"),r.b("\n"+n),r.s(r.f("section",e,t,1),e,t,0,260,360,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("§ "),r.b(r.v(r.f("section",e,t,0))),r.b("\r"),r.b("\n"+n),r.s(r.f("paraStart",e,t,1),e,t,0,291,344,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("("),n.b(n.v(n.f("paraStart",e,t,0))),n.s(n.f("paraEnd",e,t,1),e,t,0,317,331,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" - "),n.b(n.v(n.f("paraEnd",e,t,0)))}),e.pop()),n.b(")")}),e.pop()),r.b("\r"),r.b("\n"+n)}),e.pop()),r.b("</a>\r"),r.b("\n"+n),r.b("<br>\r"),r.b("\n"+n),r.b(r.v(r.f("url",e,t,0))),r.b("\r"),r.b("\n"+n),r.b("</p>\r"),r.b("\n"+n)}),e.pop()),r.b("</div>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b("\r"),r.b("\n"),r.fl()},partials:{},subs:{}}),x=new Hogan.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<p>This will save the references to the server. They can then be loaded on another computer.</p>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('<form class="form">\r'),r.b("\n"+n),r.b('<label for="bureau-'),r.b(r.v(r.f("uniqueId",e,t,0))),r.b('" class="form__row">\r'),r.b("\n"+n),r.b("Bureau name\r"),r.b("\n"+n),r.b('<input type="text" name="bureau" id="bureau-'),r.b(r.v(r.f("uniqueId",e,t,0))),r.b('" value="'),r.b(r.v(r.f("bureau",e,t,0))),r.b('" required pattern="[^\\\\]+" maxlength="100">\r'),r.b("\n"+n),r.b("</label>\r"),r.b("\n"+n),r.b('<label for="name-'),r.b(r.v(r.f("uniqueId",e,t,0))),r.b('" class="form__row">\r'),r.b("\n"+n),r.b("Your name\r"),r.b("\n"+n),r.b('<input type="text" name="name" id="name-'),r.b(r.v(r.f("uniqueId",e,t,0))),r.b('" required pattern="[^\\\\]+" maxlength="100">\r'),r.b("\n"+n),r.b("</label>\r"),r.b("\n"+n),r.b('<input type="submit" class="hide">\r'),r.b("\n"+n),r.b("</form>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"),r.fl()},partials:{},subs:{}}),k=new Hogan.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<p>You will overwrite the following references save on <strong>"),r.b(r.v(r.f("date",e,t,0))),r.b("</strong></p>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b("<ul>\r"),r.b("\n"+n),r.s(r.f("refs",e,t,1),e,t,0,103,270,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<li>\r"),r.b("\n"+n),r.b(r.v(r.f("title",e,t,0))),r.b(" \r"),r.b("\n"+n),r.b("("),r.b(r.v(r.f("extent",e,t,0))),r.b(")\r"),r.b("\n"+n),r.s(r.f("section",e,t,1),e,t,0,149,249,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("§ "),r.b(r.v(r.f("section",e,t,0))),r.b("\r"),r.b("\n"+n),r.s(r.f("paraStart",e,t,1),e,t,0,180,233,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("("),n.b(n.v(n.f("paraStart",e,t,0))),n.s(n.f("paraEnd",e,t,1),e,t,0,206,220,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" - "),n.b(n.v(n.f("paraEnd",e,t,0)))}),e.pop()),n.b(")")}),e.pop()),r.b("\r"),r.b("\n"+n)}),e.pop()),r.b("</li>\r"),r.b("\n"+n)}),e.pop()),r.b("</ul>\r"),r.b("\n"+n),r.b("<p>Do you really want to save?</p>\r"),r.b("\n"),r.fl()},partials:{},subs:{}}),A=new Hogan.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<p>References successfully saved</p>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b("<p>To recover these references later you will need to enter the following details:</p>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('<table class="table--properties">\r'),r.b("\n"+n),r.b("<tr>\r"),r.b("\n"+n),r.b('<th scope="row">Bureau name:</th>\r'),r.b("\n"+n),r.b("<td>"),r.b(r.v(r.f("bureau",e,t,0))),r.b("</td>\r"),r.b("\n"+n),r.b("</tr>\r"),r.b("\n"+n),r.b("<tr>\r"),r.b("\n"+n),r.b('<th scope="row">Your name:</th>\r'),r.b("\n"+n),r.b("<td>"),r.b(r.v(r.f("name",e,t,0))),r.b("</td>\r"),r.b("\n"+n),r.b("</tr>\r"),r.b("\n"+n),r.b("</table>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"),r.fl()},partials:{},subs:{}}),C=new Hogan.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<p>Retrieve references from the server.</p>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b("<p>This will replace the current references.</p>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('<form class="form">\r'),r.b("\n"+n),r.b('<label for="bureau-'),r.b(r.v(r.f("uniqueId",e,t,0))),r.b('" class="form__row">\r'),r.b("\n"+n),r.b("Bureau name\r"),r.b("\n"+n),r.b('<input type="text" name="bureau" id="bureau-'),r.b(r.v(r.f("uniqueId",e,t,0))),r.b('" value="'),r.b(r.v(r.f("bureau",e,t,0))),r.b('" required pattern="[^\\\\]+" maxlength="100">\r'),r.b("\n"+n),r.b("</label>\r"),r.b("\n"+n),r.b('<label for="name-'),r.b(r.v(r.f("uniqueId",e,t,0))),r.b('" class="form__row">\r'),r.b("\n"+n),r.b("Your name\r"),r.b("\n"+n),r.b('<input type="text" name="name" id="name-'),r.b(r.v(r.f("uniqueId",e,t,0))),r.b('" required pattern="[^\\\\]+" maxlength="100">\r'),r.b("\n"+n),r.b("</label>\r"),r.b("\n"+n),r.b('<input type="submit" class="hide">\r'),r.b("\n"+n),r.b("</form>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"),r.fl()},partials:{},subs:{}}),T=new Hogan.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<p><p>Sorry there has been an error. Please try again.\r"),r.b("\n"+n),r.b("<p>If the error persists please contact support.\r"),r.b("\n"+n),r.b('<p class="highlight--error">'),r.b(r.v(r.f("error",e,t,0))),r.fl()},partials:{},subs:{}}),S=new Hogan.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<p class="highlight--warning">\r'),r.b("\n"+n),r.b("No references found on the server stored under <strong>"),r.b(r.v(r.f("bureau",e,t,0))),r.b("</strong> and <strong>"),r.b(r.v(r.f("name",e,t,0))),r.b("</strong>.\r"),r.b("\n"+n),r.b("</p>\r"),r.b("\n"),r.fl()},partials:{},subs:{}}),N="Close",O="Cancel",E="Save",D="Yes",j="Retrieve",I="Copy",R="Clear",q="Undo",B="Error",H="References",M="Retrieve from server",U="Copy references",J="Save to server",L="Confirm save",K="Saved",P="No references found",Y={};g&&t(".js-ref-dialog").on("click",o)}(window.CAB,jQuery),function(e,t){"use strict";function n(){var e=t("head");c={id:e.find('meta[name="cab-guid"]').prop("content"),extent:e.find('meta[name="cab-extent"]').prop("content"),title:t("h1").eq(0).text().replace(/\s+/g," ").trim(),url:location.href.replace(/[?#].*$/,"")}}function r(e){var n=t(e.delegateTarget);e.preventDefault(),n.hasClass(f)?i.remove(n.data(u)):i.add(n.data(u))}function a(){var e,n,a=t(this),o={};if(!a.is("h1")){if(!this.id)return;o={hash:this.id||"",section:this.textContent||this.innerText||"",paraStart:this.getAttribute("data-para-start")||"",paraEnd:this.getAttribute("data-para-end")||"",url:c.url+"#"+this.id}}e=t.extend({},c,o),n=t('<span class="'+b+'__toggle"/>').data(u,e).on("click",".js-toggle-ref",r).html('<a class="js-toggle-ref" href="#!">'+p+"</a>"),a.removeClass("js-ref").addClass(b).wrapInner('<span class="'+b+'__heading"/>').append(n),l[i.getKey(e)]=n}function o(){var e;for(e in l)s(e,l[e]);t(window).trigger("resize")}function s(e,t){var n=!1,r="",a=!!i.get(e);a&&!t.hasClass(f)?(n=!0,r=h):a||t.hasClass(d)||(n=!0,r=p),n&&t.toggleClass(f,a).toggleClass(d,!a).find("a").text(r)}var i=window.CAB&&window.CAB.references;if(i){var c,l={},u="cab-ref",b="ref-heading",f=b+"__toggle--on",d=b+"__toggle--off",h="Added",p="Add reference";n(),t(".js-ref").each(a),o(),i.on("change",o)}}(window,jQuery);